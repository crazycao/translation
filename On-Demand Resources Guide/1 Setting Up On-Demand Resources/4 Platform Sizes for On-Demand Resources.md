# 4 Platform Sizes for On-Demand Resources - 按需资源平台大小

原文地址： [https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/On_Demand_Resources_Guide/PlatformSizesforOn-DemandResources.html#//apple_ref/doc/uid/TP40015083-CH23-SW1](https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/On_Demand_Resources_Guide/PlatformSizesforOn-DemandResources.html#//apple_ref/doc/uid/TP40015083-CH23-SW1)

The total size for the resources in a tag can be no more than 512 MB after app slicing. The total size for the on-demand resources stored on the app store for an app can be no more than 20 GB. The total size limit for the on-demand resources associated with an app are in addition to the size limit for the app bundle downloaded by the user.

资源标签的总大小在应用分割后不能超过 512MB。存储在应用商店上的按需资源的总大小不能超过 20GB。与应用相关联的按需资源的总大小限制是除了用户下载的应用程序包大小限制之外的额外限制。

The ideal size of a tag is less than or equal to 64 MB. This size provides a good balance between download speed and local storage to make available for purging when the local storage for the device is low.

一个标签的理想大小应小于或等于 64MB。这个大小在下载速度和本地存储之间提供了良好的平衡，以便在设备的本地存储空间不足时可以清除。

There are limits on the amount of storage used by on-demand resources at App Store submission time and while the app is running.

在应用程序提交到 App Store 时以及应用程序运行期间，对按需资源使用的存储空间有限制。

**Table 4-1** On-demand resource sizes **表1-1** 按需资源大小

| Item | Size | Slicing |
|:-:|:-:|:-:|
iOS App bundle|2 GB|✓|
tvOS App bundle|4 GB|✓|
Tag|512 MB|✓|
Asset packs|1000|✓|
Initial install tags|2 GB|✓|
Initial install and prefetched tags|4 GB|✓|
In use on-demand resources|2 GB|✓|
Hosted on-demand resources|20 GB|–|

- **Slicing.** A checkmark (✓) indicates that the size reflects [App Slicing](https://developer.apple.com/help/glossary/slicing/). Slicing delivers only the resources needed for a target device. For more information on slicing, see [App Thinning (iOS, watchOS)](https://help.apple.com/xcode/mac/current/#/devbbdc5ce4f).
- **App bundle.** The size of the sliced app bundle downloaded to the device.
- **Asset packs.** Asset packs are generated by Xcode, see [On-Demand Resource Life Cycle](https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/On_Demand_Resources_Guide/index.html#//apple_ref/doc/uid/TP40015083-CH2-SW2).
- **Initial install tags.** The total sliced size of the tags marked for initial install.
- **Initial install and prefetched tags.** The total sliced size of the tags marked for initial install and the tags marked for prefetching.
- **In use on-demand resources.** The total sliced size of the tags in use by the app at any one time. A tag is in use as long as at least one `NSBundleResourceRequest` object is accessing it.
- **Hosted on-demand resources.** The total presliced size of the tags hosted on the App Store.

- 分割（Slicing）：✓ 表示大小反映了[应用分割](https://developer.apple.com/cn/help/glossary/slicing/)。分割仅为目标设备提供所需的资源。有关分割的更多信息，请参阅《[应用程序瘦身（iOS，watchOS）](https://help.apple.com/xcode/mac/current/#/devbbdc5ce4f)》。
- 应用程序包（App bundle）：下载到设备上的已分割的应用程序包的大小。
- 资源包（Asset packs）：资源包由 Xcode 生成，请参阅《[按需资源生命周期](https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/On_Demand_Resources_Guide/index.html#//apple_ref/doc/uid/TP40015083-CH2-SW2)》。
- 初始安装标签（Initial install tags）：标记为初始安装的标签的总分割大小。
- 初始安装和预取标签（Initial install and prefetched tags）：标记为初始安装和预取的标签的总分割大小。
- 正在使用的按需资源（In use on-demand resources）：应用程序在任何时候使用的标签的总分割大小。只要至少有一个 `NSBundleResourceRequest` 对象在访问该标签，该标签就处于使用状态。
- 托管的按需资源（Hosted on-demand resources）：托管在应用商店上的标签的总预分割大小。




